#  Customize BASH PS1 prompt to show current GIT repository and branch.
#  Original by Mike Stewart - http://MediaDoneRight.com
#  Modified by Alan Christopher Thomas - http://alanct.com

# Readable variables
Yellow="\[\033[0;33m\]"       # Yellow
White="\[\033[0;37m\]"        # White
IBlack="\[\033[0;90m\]"       # Black
Color_Off="\[\033[0m\]"       # Text Reset
Hostname="\h"

# Export the prompt
export PS1=$IBlack$Hostname$Color_Off'$(git branch &>/dev/null;\
if [ $? -eq 0 ]; then \
    echo "$(echo `git status` | grep "nothing to commit" > /dev/null 2>&1; \
    if [ "$?" -eq "0" ]; then \
        # Up-to-date
        echo "'$White'"$(__git_ps1 " (%s)"); \
    else \
        # Unstaged changes
        echo "'$White'"$(__git_ps1 " {%s}"); \
    fi) '$Yellow'$(__pwd_ps1 " (%s)")'$Color_Off'\$ "; \
else \
    # Prompt when not in git repo
    echo " '$Yellow'$(__pwd_ps1 " (%s)")'$Color_Off'\$ "; \
fi)'
